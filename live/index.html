<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <title>Live ‚Äî AstroTrapez</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- TikTok embed loader -->
  <script async src="https://www.tiktok.com/embed.js"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#060712;--text:#e8ecff;--muted:#aab2d5;
      --accent:#7aa2ff;--accent2:#6e44ff;
      --border:rgba(255,255,255,.1);
      --panel:rgba(255,255,255,.06);
      --shadow:0 14px 35px rgba(0,0,0,.55);
      --radius:16px;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      min-height:100dvh; overflow-x:hidden;
      font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text);
      background: radial-gradient(1400px 900px at 70% 25%, #2a2358 0%, transparent 60%), var(--bg);
      position:relative;
      padding:24px 16px 100px;
    }
    /* mg≈Çawica + planety + gwiazdy */
    body::before{
      content:""; position:fixed; inset:0; z-index:-3;
      background:
        radial-gradient(800px 520px at 65% 35%, rgba(120,65,255,.35) 0%, transparent 60%),
        radial-gradient(680px 480px at 30% 70%, rgba(60,120,255,.22) 0%, transparent 65%);
      filter: blur(1px) saturate(110%);
      opacity:.9;
    }
    .planet{position:fixed; z-index:-2; border-radius:50%; filter:saturate(110%) contrast(105%) drop-shadow(0 12px 40px rgba(0,0,0,.45))}
    .p1{width:190px; height:190px; top:8%; left:8%;
      background:radial-gradient(circle at 30% 30%, #b8c4ff, 12%, #6a7bff 45%, #2a2f6a 70%, #171935 100%)}
    .p2{width:140px; height:140px; bottom:10%; right:12%;
      background:radial-gradient(circle at 30% 30%, #ffd5b3, 15%, #ff8a66 46%, #7a2c2c 72%, #231014 100%)}
    .stars::before,.stars::after{
      content:""; position:fixed; inset:-20% -20% -10% -20%; z-index:-1;
      background:
        radial-gradient(2px 2px at 10% 20%, #fff 40%, transparent 41%) repeat 350px 260px,
        radial-gradient(2px 2px at 70% 30%, #b7c7ff 40%, transparent 41%) repeat 520px 340px,
        radial-gradient(1.6px 1.6px at 85% 75%, #fff 40%, transparent 41%) repeat 640px 460px;
      animation: drift 70s linear infinite;
      opacity:.7;
    }
    .stars::after{ animation-duration:120s; opacity:.5 }
    @keyframes drift{ to{ transform:translate3d(-220px,-140px,0) } }

    /* nag≈Ç√≥wek */
    .container{max-width:1120px; margin:0 auto}
    .brand{display:flex; align-items:center; gap:12px; margin-bottom:10px}
    .home-link{display:flex;align-items:center;gap:10px;color:inherit;text-decoration:none}
    .home-link:hover{opacity:.95}
    .brand h1{font-size:34px; font-weight:900; letter-spacing:.3px}
    .brand svg{width:34px;height:34px; filter:drop-shadow(0 4px 8px rgba(0,0,0,.35))}
    .subtitle{color:var(--muted); margin-bottom:18px}
    .btn{
      border:1px solid var(--border); background:var(--panel); color:var(--text);
      padding:6px 12px; border-radius:999px; cursor:pointer; font-weight:800
    }
    .btn:hover{opacity:.85}

    /* panel */
    .panel{
      background:var(--panel);
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:16px;
    }

    /* p≈ÇywajƒÖce okienko */
    .float-live{position:fixed; right:20px; bottom:20px; width:360px; max-width:92vw;
      background:rgba(10,12,26,.9); border:1px solid var(--border); border-radius:14px;
      box-shadow:var(--shadow); display:flex; flex-direction:column; overflow:hidden; z-index:1000}
    .float-header{display:flex; align-items:center; justify-content:space-between;
      padding:10px 12px; gap:8px; cursor:grab; background:linear-gradient(135deg,#1a1e38,#15182e);
      border-bottom:1px solid rgba(255,255,255,.06)}
    .float-title{font-weight:800; font-size:14px; color:#dfe6ff}
    .float-actions{display:flex; gap:6px}
    .float-body{padding:10px}
    .float-body iframe{width:100%; height:210px; border:0; border-radius:10px; background:#000}
    .notice{text-align:center; color:#dfe6ff; font-size:13px; padding:8px; background:rgba(255,255,255,.05); border:1px dashed rgba(255,255,255,.14); border-radius:10px}
    .minimized .float-body{display:none}
    .minimized{width:auto}
  </style>
</head>
<body>
  <div class="stars"></div>
  <div class="planet p1"></div>
  <div class="planet p2"></div>

  <div class="container">
    <div class="brand">
      <a href="/" class="home-link" aria-label="Strona g≈Ç√≥wna AstroTrapez">
        <!-- teleskop -->
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M4 20h16M12 20v-6m7.5-6.5-7 3.5-3-6 7-3.5 3 6Z" stroke="#bcd1ff" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M6 16l3-2" stroke="#bcd1ff" stroke-width="1.6" stroke-linecap="round"/>
        </svg>
        <h1>AstroTrapez ‚Äî LIVE</h1>
      </a>
      <button id="goBack" class="btn" style="margin-left:auto">‚Üê Wr√≥ƒá</button>
    </div>

    <p class="subtitle">P≈ÇywajƒÖce okienko z transmisjƒÖ TikTok oraz t≈Ço kosmiczne z mg≈ÇawicƒÖ i planetami.</p>

    <div class="panel">
      <h3>üì∫ Kana≈Ç na TikToku (@trap3z)</h3>
      <blockquote class="tiktok-embed" cite="https://www.tiktok.com/@trap3z"
                data-unique-id="trap3z" data-embed-type="creator"
                data-embed-from="embed_page" style="max-width: 100%; min-width: 288px;">
        <section><a target="_blank" href="https://www.tiktok.com/@trap3z">@trap3z</a></section>
      </blockquote>
    </div>
  </div>

  <!-- P≈ÇywajƒÖce okienko z LIVE -->
  <div class="float-live" id="floatLive">
    <div class="float-header" id="dragHandle">
      <div class="float-title">üî¥ TikTok LIVE @trap3z</div>
      <div class="float-actions">
        <button class="btn" id="minBtn">‚ñÅ</button>
        <a class="btn" href="https://www.tiktok.com/@trap3z/live" target="_blank">‚ñ∂ Otw√≥rz</a>
      </div>
    </div>
    <div class="float-body">
      <iframe src="https://www.tiktok.com/@trap3z/live" allow="autoplay; encrypted-media" title="TikTok Live"></iframe>
      <div class="notice">Je≈õli wideo siƒô nie za≈Çadowa≈Ço, kliknij ‚Äû‚ñ∂ Otw√≥rz‚Äù.</div>
    </div>
  </div>

  <script>
    // Wr√≥ƒá do poprzedniej strony lub do /
    (function(){
      const back = document.getElementById('goBack');
      if(back){
        back.addEventListener('click', ()=>{
          const sameOriginRef = document.referrer && new URL(document.referrer).origin === location.origin;
          if (sameOriginRef && history.length > 1) history.back();
          else location.href = '/';
        });
      }
    })();

    // Minimalizacja okienka
    document.getElementById('minBtn').addEventListener('click',()=>{
      document.getElementById('floatLive').classList.toggle('minimized');
    });
  </script>
</body>
</html>
